<!DOCTYPE html>
<html lang="vi" class="h-100">

<head>
    <title>Tìm kiếm</title>
    <meta charset="utf-8" />
    <meta name="viewpoint" content="width=device-width,initial-scal=1.0">
    <meta http-equip="X-UA-compatible" content="ie=edge">
    <link rel="icon" type="image/png" href="images/icon_search.png">
    <link rel="stylesheet" href="style/style.css" media="screen" type="text/css" />
    <link rel="stylesheet" href="style/style_topnav.css" media="screen" type="text/css" />
    <link rel="stylesheet" href="style/style_ourteam.css" media="screen" type="text/css">
    <link rel="stylesheet" href="style/style_banner.css" media="screen" type="text/css" />
    <link rel="stylesheet" href="style/style_serviece.css" media="screen" type="text/css" />
    <link rel="stylesheet" href="style/style_product.css" media="screen" type="text/css" />
    <link rel="stylesheet" href="style/style_pagination.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style/product_detail.css" media="screen" type="text/css">
    <link rel="stylesheet" href="style/bootstrap.min.css" media="screen" type="text/css">
    <link rel="stylesheet" href="style/font-awesome.min.css" media="screen" type="text/css">
</head>

<body>
    <!-- header -->
    <div id="header">

        <!-- Include header content here -->
        <div class="topnav">
            <div style="display: flex;" class="dangxuat">
                <a href="register.html" class="dangxuat">Đăng ký</a>
            </div>
            <div style="display: inline-flex;" class="dangnhap">
                <a href="login.html">Đăng nhập</a>
            </div>

            <a class="active" href="index.html">Trang chủ</a>
            <a href="products.html">Sản phẩm</a>
            <a href="#" id="giohang">Giỏ hàng</a>
            <script>
                document.getElementById("giohang").onclick = function () {
                    alert("Hãy đăng nhập trước để vào giỏ hàng");
                    location.assign("login.html");
                }
            </script>
            <a href="advanced_product_search.html" class="account">Tìm kiếm</a>
            <div class="search-container">
                <input type="text" id="searchtext" placeholder="Tìm kiếm.." oninput="searchProducts()">
                <button type="button" onclick="searchProducts()">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </div>

    </div>
    <!--end header-->
    <main role="main">
        <div class="container mt-4">
            <form name="frmTimKiem" id="searchForm">
                <h1 class="text-center" style="margin-top: 75px;">Sản phẩm tìm thấy</h1>
                <br>
                <section class="on-sale">
                    <div id="site">
                        <div class="container">
                            <div class="row" id="productList">
                                <!-- Products will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                </section>
            </form>
        </div>
        <div style="text-align: center;" id="pagination">
            <!-- Pagination will be dynamically inserted here -->
        </div>
    </main>

    <footer class="footer mt-auto py-3">
        <div class="container">
            <p class="float-right">
                <a href="#">Về đầu trang</a>
            </p>
        </div>
    </footer>

    <script>
        const products = [
            { id: 5, image: 'image1.jpg', name: 'Giường đôi', price: '120€', trang_thai: 1 },
            { id: 6, image: 'mirror4.jpg', name: 'Gương siêu bự', price: '90€', trang_thai: 1 },
            { id: 7, image: 'sofa4.jpg', name: 'Sofa loại cực êm', price: '260€', trang_thai: 1 },
            { id: 9, image: 'table4.jpg', name: 'Bàn siêu cứng', price: '75€', trang_thai: 1 },
            { id: 10, image: 'bed1.jpg', name: 'Giường gỗ bạch dương', price: '300€', trang_thai: 1 },
            { id: 11, image: 'bed2.jpg', name: 'Giường tiện lợi', price: '290€', trang_thai: 1 },
            { id: 12, image: 'sofa1.jpg', name: 'Sofa luxury', price: '250€', trang_thai: 1 },
            { id: 13, image: 'sofa2.jpg', name: 'Sofa trắng tinh tế', price: '300€', trang_thai: 1 },
            { id: 14, image: 'table1.jpg', name: 'Bàn kính', price: '2000€', trang_thai: 1 },
            { id: 15, image: 'table2.jpg', name: 'Bàn văn phòng', price: '230€', trang_thai: 1 },
            { id: 16, image: 'mirror1.jpg', name: 'Gương trang điểm', price: '120€', trang_thai: 1 },
            { id: 17, image: 'mirror2.jpg', name: 'Gương mặt trời', price: '120€', trang_thai: 1 },
            { id: 18, image: 'bed5.jpg', name: 'Giường luxury', price: '1000€', trang_thai: 1 },
            { id: 19, image: 'sofa5.jpg', name: 'Sofa loại tốt', price: '200€', trang_thai: 1 },
            { id: 20, image: 'table5.jpg', name: 'Bàn gỗ sồi', price: '900€', trang_thai: 1 },
        ];

        function renderProducts(productsToRender) {
            const productList = document.getElementById('productList');
            productList.innerHTML = '';
        
            if (productsToRender.length === 0) {
                productList.innerHTML = '<p>Không có sản phẩm được tìm thấy</p>';
                return;
            }
        
            productsToRender.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'col-md-3';
                productDiv.innerHTML = `
                    <div class="product-top">
                        <img src="images/${product.image}" alt="">
                        <div class="overlay-right">
                            <a href="productdetail.html?id=${product.id}" class="btn btn-secondary" title="Xem chi tiết">
                                <i class="fa fa-eye"></i>
                            </a>
                            <button class="btn btn-secondary" title="Thêm vào giỏ hàng" onclick="addToCart(${product.id})">
                                <i class="fa fa-shopping-cart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="product-bottom text-center">
                        <h4>${product.name}</h4>
                        <p class="product-price">${product.price}</p>
                    </div>
                `;
                productList.appendChild(productDiv);
            });
        }

        function searchProducts() {
            const searchText = document.getElementById('searchtext').value.toLowerCase();
            const filteredProducts = searchText 
                ? products.filter(product => product.name.toLowerCase().includes(searchText))
                : products;
            renderProducts(filteredProducts);
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(products); // Hiển thị tất cả sản phẩm khi trang được tải
        });
    </script>
</body>

</html>
